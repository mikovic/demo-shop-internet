<!DOCTYPE html>
<html lang="en">
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <title>Home 01</title>
    <div th:replace="~{head.html}" />

    <link rel="stylesheet" th:href="@{https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css}">

    <link rel="stylesheet" th:href="@{https://use.fontawesome.com/releases/v5.3.1/css/all.css}"/>
    <script th:src="@{https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js}"></script>

</head>

<body data-spy="scroll" data-target=".site-navbar-target" data-offset="300">

<div class="site-wrap">

    <header>
        <div th:replace="~{header :: navi(Home)}" />
    </header>
    <div class="site-section">

    <div class="container">
        <br>
        <h1>Оформление заказа</h1>
        <span th:if="${message != null}"><span th:class="alert-info" th:text="${message.message}"></span></span>
        <form  th:object="${order}"  th:action="@{/shop/order/confirm}"  method="post" class="form-horizontal">
            <table class="table table-hover">
                <thead class="thead-light">
                <tr>
                    <th>Название товара</th>
                    <th>Количество</th>
                    <th>Стоимость</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="orderItem : ${order.orderItems}">
                    <td th:text="${orderItem.product.title}"/>
                    <td th:text="${orderItem.quantity}"/>
                    <td th:text="${orderItem.totalPrice}"/>
                </tr>
                <tr>
                    <td>Итоговая сумма</td>
                    <td/>
                    <td th:text="${order.price}"/>
                </tr>
                </tbody>
            </table>
            <div th:if="${!order.confirmed}">
                <span>Укажите адрес доставки</span>
                <select class="form-control" th:field="*{deliveryAddress}"  id="dropDeliveryAddresses">
                    <option th:each="o : ${deliveryAddresses}" th:value="${o.id}" th:text="${o.address}"></option>
                </select>
                <br>
                <span>Укажите номер телефона</span>
                <input type="text" th:field="*{phoneNumber}" class="form-control input-sm">
                <br>
                <div class="col-sm-6 controls">
                    <button type="submit" class="btn btn-primary">Готово</button>
                    <a class="btn btn-secondary" th:href="@{/}">Вернуться в магазин</a>
                </div>
            </div>

        </form>
    </div>
    </div>


    <div class="footer">
        <div class="container">


            <div class="row">
                <div class="col-12">
                    <div class="copyright">
                        <p>
                            <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
                            Copyright &copy;<script>document.write(new Date().getFullYear());</script> All rights reserved | This template is made with <i class="icon-heart text-danger" aria-hidden="true"></i> by <a href="https://colorlib.com" target="_blank" >Colorlib</a>
                            <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>


</div>
<!-- .site-wrap -->


<!-- loader -->
<div id="loader" class="show fullscreen"><svg class="circular" width="48px" height="48px"><circle class="path-bg" cx="24" cy="24" r="22" fill="none" stroke-width="4" stroke="#eeeeee"/><circle class="path" cx="24" cy="24" r="22" fill="none" stroke-width="4" stroke-miterlimit="10" stroke="#ff5e15"/></svg></div>


<script type="text/javascript" th:src="@{/webjars/jquery/3.3.1/dist/jquery.min.js}"></script>
<script th:src="@{/js/jquery-migrate-3.0.1.min.js}"></script>
<script th:src="@{js/jquery-ui.js}"></script>
<script th:src="@{/js/popper.min.js}"></script>
<script th:src="@{/js/bootstrap.min.js}"></script>
<script th:src="@{/js/owl.carousel.min.js}"></script>
<script th:src="@{/js/jquery.stellar.min.js}"></script>
<script th:src="@{/js/jquery.countdown.min.js}"></script>
<script th:src="@{/js/bootstrap-datepicker.min.js}"></script>
<script th:src="@{/js/jquery.easing.1.3.js}"></script>
<script th:src="@{/js/aos.js}"></script>
<script th:src="@{/js/jquery.fancybox.min.js}"></script>
<script th:src="@{/js/jquery.sticky.js}"></script>
<script th:src="@{/js/jquery.mb.YTPlayer.min.js}"></script>
<script th:src="@{/js/main.js}"></script>
<script type="text/javascript" th:src="@{/webjars/bootstrap/4.1.3/js/bootstrap.min.js}"></script>

</body>

</html>